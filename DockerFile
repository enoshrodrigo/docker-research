# ...existing code...
FROM python:3.9-slim

# Use container root as working directory so app.py lives at /
WORKDIR /

# Copy and install requirements
COPY requirements.txt /requirements.txt
RUN pip install --no-cache-dir -r /requirements.txt

# Copy entire repository into container root (this places app.py at /app.py)
COPY . /

# If you want outputs to be baked into the image ensure .dockerignore does not exclude it.
# Optionally copy outputs explicitly (only needed if outputs is outside build context)
# COPY outputs /outputs

ENV PYTHONUNBUFFERED=1
EXPOSE 8000
ENV PORT=8000

# Run gunicorn which will import app from /app.py
CMD ["gunicorn", "--bind=0.0.0.0:8000", "--timeout", "600", "app:app"]
# ...existing code...